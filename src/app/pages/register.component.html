<!--to check text equality(password $ comfirm password) used 'angular2-text-equality-validator' from npm -->
<div class="animated fadeIn container">

  <h1 class="btn btn-info col-md-12 text-center"> Register With ECG </h1>

  <form [formGroup]="registerForm">

    <div class="row">
      <div class="col-md-6">
        <div class="card">
          <div class="card-block">
          
              <div class="form-group">
                <label for="fname">First Name : <span class="validationrequire"></span></label>
                <input class="form-control" id="fname" placeholder="Enter your first name" type="text" formControlName="fname">
                <div *ngIf="registerForm.controls['fname'].hasError('required') && registerForm.controls['fname'].touched" class="col-12 alert alert-danger">You must include a first name.</div>
              </div>
              <div class="form-group">
                <label for="phone">Phone Number : <span class="validationrequire"></span></label>
                <input class="form-control" id="phone" placeholder="Enter your phone number" type="text" formControlName="phone">
                <div *ngIf="registerForm.controls['phone'].hasError('required') && registerForm.controls['phone'].touched" class="col-12 alert alert-danger">You must include a phone number.</div>
                <div *ngIf="registerForm.controls['phone'].hasError('phone') && registerForm.controls['phone'].touched" class="col-12 alert alert-danger">You must include a valid phone number.</div>
                <div *ngIf="registerForm.controls['phone'].hasError('maxlength') && registerForm.controls['phone'].touched" class="col-12 alert alert-danger">Your phone number must be 10 characters long.</div>
              </div>
              <div class="form-group">
                <label for="password">Password : <span class="validationrequire"></span></label>
                <input class="form-control" id="password" placeholder="Enter your password" type="password" formControlName="password">
                <div *ngIf="registerForm.controls['password'].hasError('required') && (registerForm.controls['password'].dirty || registerForm.controls['password'].touched)" class="col-12 alert alert-danger">You must include a password.</div>
                <div *ngIf="registerForm.controls['password'].hasError('minlength') && (registerForm.controls['password'].dirty || registerForm.controls['password'].touched)" class="col-12 alert alert-danger">Your password must be at least 6 characters long.</div>
              </div>
              <div class="form-group">
                <label for="state">State : <span class="validationrequire"></span></label>
                  <select class="form-control" id="state" *ngIf="states" size="1" formControlName="state">
                    <option value="" selected>Select state here</option>
                    <option *ngFor="let state of states" >{{state}}</option>
                  </select>
                  <div *ngIf="registerForm.controls['state'].hasError('required') && registerForm.controls['state'].touched" class="col-12 alert alert-danger">You must include a state.</div>
              </div>
              <div class="form-group">
                <label for="zip">ZIP Code : <span class="validationrequire"></span></label>
                <input class="form-control" id="zip" placeholder="Enter your ZIP code" type="text" formControlName="zip">
                <div *ngIf="registerForm.controls['zip'].hasError('required') && registerForm.controls['zip'].touched" class="col-12 alert alert-danger">You must include a ZIP code.</div>
              </div>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="card">
          <div class="card-block">
                <div class="form-group">
                  <label for="lname">Last Name : <span class="validationrequire"></span></label>
                  <input class="form-control" id="lname" placeholder="Enter your last name" type="text" formControlName="lname">
                  <div *ngIf="registerForm.controls['lname'].hasError('required') && registerForm.controls['lname'].touched" class="col-12 alert alert-danger">You must include a last name.</div>
                </div>
                <div class="form-group">
                  <label for="email">Email : <span class="validationrequire"></span></label>
                  <input class="form-control" id="email" placeholder="Enter your email address" type="text" formControlName="email">
                  <div *ngIf="registerForm.controls['email'].hasError('required') && registerForm.controls['email'].touched" class="col-12 alert alert-danger">You must include a email.</div>
                  <div *ngIf="registerForm.controls['email'].hasError('pattern') && registerForm.controls['email'].touched" class="col-12 alert alert-danger">You must include a valid email.</div>
                </div>
                <div class="form-group">
                  <label for="cpassword">Confirm Password : <span class="validationrequire"></span></label>
                  <span></span>
                  <input class="form-control" id="cpassword" placeholder="Confirm password" type="password" formControlName="cpassword" validateEqualTo="password">
                  <div *ngIf="registerForm.controls['cpassword'].hasError('required') && registerForm.controls['cpassword'].touched" class="col-12 alert alert-danger">You must include a same password as above.</div>
                  <div *ngIf="registerForm.controls['cpassword'].hasError('validateEqual') && registerForm.controls['cpassword'].touched" class="col-12 alert alert-danger">Passwords don't match</div>
                </div>
                <div class="form-group">
                  <label for="city">City : <span class="validationrequire"></span></label>
                  <input class="form-control" id="city" placeholder="Enter your city" type="text" formControlName="city">
                  <div *ngIf="registerForm.controls['city'].hasError('required') && registerForm.controls['city'].touched" class="col-12 alert alert-danger">You must include a city.</div>
                </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
        <button type="button" class="btn btn-sm col-md-3 m-auto btn-block btn-success" [disabled]="!registerForm.valid" (click)="signup()"><i class="fa fa-dot-circle-o"></i> Create Account</button>
      
    </div>
  </form>
</div>